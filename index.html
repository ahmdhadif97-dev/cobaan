<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Number Scroller</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
            overflow: hidden;
            background-color: #f5f5f5;
        }
        
        .number-container {
            height: 300px;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            scrollbar-width: none;
            -ms-overflow-style: none;
            width: 100px;
        }
        
        .number-container::-webkit-scrollbar {
            display: none;
        }
        
        .number {
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            scroll-snap-align: center;
            font-size: 14px;
            color: #aaa;
            transition: all 0.2s ease;
            font-family: monospace;
        }
        
        .number.active {
            font-size: 18px;
            color: white;
            background-color: #007bff;
            border-radius: 4px;
            font-weight: bold;
        }
        
        .number-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
    </style>
</head>
<body>
    <div class="number-wrapper">
        <div class="number-container" id="numberContainer">
            <!-- Numbers will be generated by JavaScript -->
        </div>
    </div>

    <script>
        const container = document.getElementById('numberContainer');
        const totalNumbers = 12;
        const visibleRange = 3;
        
        // Generate numbers in 000X format
        for (let i = 1; i <= totalNumbers; i++) {
            const div = document.createElement('div');
            div.className = 'number';
            div.textContent = i.toString().padStart(4, '0');
            div.dataset.value = i;
            container.appendChild(div);
        }
        
        function centerScroll() {
            const numbers = document.querySelectorAll('.number');
            if (numbers.length === 0) return;
            
            const containerHeight = container.clientHeight;
            const numberHeight = numbers[0].clientHeight;
            const middleIndex = Math.floor(numbers.length / 2);
            const scrollTo = middleIndex * numberHeight - (containerHeight / 2) + (numberHeight / 2);
            
            container.scrollTo({
                top: scrollTo,
                behavior: 'auto'
            });
            
            updateActiveNumber();
        }
        
        function updateActiveNumber() {
            const numbers = document.querySelectorAll('.number');
            const containerHeight = container.clientHeight;
            const scrollPosition = container.scrollTop + (containerHeight / 2);
            
            numbers.forEach(num => {
                const numPosition = num.offsetTop + (num.clientHeight / 2);
                const distanceFromCenter = Math.abs(numPosition - scrollPosition);
                const isActive = distanceFromCenter < num.clientHeight / 2;
                
                num.classList.toggle('active', isActive);
                
                // Adjust styling based on distance from center
                if (!isActive) {
                    const distanceFactor = Math.min(distanceFromCenter / (num.clientHeight * visibleRange), 1);
                    num.style.opacity = 1 - (distanceFactor * 0.8);
                    num.style.transform = `scale(${1 - (distanceFactor * 0.3)})`;
                } else {
                    num.style.opacity = '1';
                    num.style.transform = 'scale(1)';
                }
                
                // Hide numbers completely when too far away
                if (distanceFromCenter > (visibleRange + 0.5) * num.clientHeight) {
                    num.style.visibility = 'hidden';
                } else {
                    num.style.visibility = 'visible';
                }
            });
        }
        
        // Initialize
        window.addEventListener('load', () => {
            centerScroll();
        });
        
        container.addEventListener('scroll', updateActiveNumber);
        
        // Better handling of scroll snapping
        let isScrolling = false;
        container.addEventListener('scroll', () => {
            if (!isScrolling) {
                window.requestAnimationFrame(() => {
                    updateActiveNumber();
                    isScrolling = false;
                });
                isScrolling = true;
            }
        });
        
        // Handle momentum scrolling on iOS
        container.addEventListener('touchmove', (e) => {
            e.preventDefault();
            const touch = e.touches[0];
            container.scrollTop += touch.clientY - startY;
            startY = touch.clientY;
        }, { passive: false });
        
        let startY = 0;
        container.addEventListener('touchstart', (e) => {
            startY = e.touches[0].clientY;
        });
    </script>
</body>
</html>
