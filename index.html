import { useState, useRef, useEffect } from "react";

export default function NumberScroller() {
  const [numbers] = useState(
    Array.from({ length: 100 }, (_, i) => (i + 1).toString().padStart(4, "0")
  );
  const scrollerRef = useRef(null);

  // Initialize to show 0001 centered with 0002-0004 below
  useEffect(() => {
    if (scrollerRef.current) {
      const firstItem = scrollerRef.current.querySelector("[data-value='0001']");
      if (firstItem) {
        const containerHeight = scrollerRef.current.clientHeight;
        firstItem.scrollIntoView({
          block: "center",
          behavior: "auto"
        });
      }
    }
  }, []);

  return (
    <div style={styles.container}>
      <div ref={scrollerRef} style={styles.scroller}>
        {numbers.map((num) => (
          <div 
            key={num} 
            data-value={num}
            style={{
              ...styles.number,
              ...(num === "0001" && styles.centerNumber)
            }}
          >
            {num}
          </div>
        ))}
      </div>
    </div>
  );
}

const styles = {
  container: {
    display: "flex",
    justifyContent: "center",
    alignItems: "center",
    height: "100vh",
    backgroundColor: "#f5f5f5"
  },
  scroller: {
    height: "350px",
    width: "100px",
    overflowY: "scroll",
    scrollSnapType: "y mandatory",
    scrollbarWidth: "thin",
    fontFamily: "monospace"
  },
  number: {
    height: "50px",
    display: "flex",
    justifyContent: "center",
    alignItems: "center",
    scrollSnapAlign: "center",
    color: "#999",
    fontSize: "14px"
  },
  centerNumber: {
    color: "#000",
    fontSize: "18px",
    fontWeight: "bold"
  }
};
